<!DOCTYPE html><html lang="ja" data-astro-cid-sckkx6r4> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v5.5.5"><!-- SEO --><title>Langfuse V3を安くしたい - ページ 18/46</title><meta name="description" content="Langfuse Night #2 - 初心者から熟練者まで - でおはなししたものです。"><link rel="canonical" href="https://tubone24.github.io/my-speaker-deck/slides/langfusev3/18.html"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://tubone24.github.io/my-speaker-deck/slides/langfusev3/18.html"><meta property="og:title" content="Langfuse V3を安くしたい - ページ 18/46"><meta property="og:description" content="Langfuse Night #2 - 初心者から熟練者まで - でおはなししたものです。"><meta property="og:image" content="https://tubone24.github.io/images/slides/langfusev3/18.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://tubone24.github.io/my-speaker-deck/slides/langfusev3/18.html"><meta property="twitter:title" content="Langfuse V3を安くしたい - ページ 18/46"><meta property="twitter:description" content="Langfuse Night #2 - 初心者から熟練者まで - でおはなししたものです。"><meta property="twitter:image" content="https://tubone24.github.io/images/slides/langfusev3/18.jpg"><style>:root{--color-primary: #3498db;--color-secondary: #2c3e50;--color-background: #f5f5f5;--color-text: #333}[data-astro-cid-sckkx6r4],[data-astro-cid-sckkx6r4]:before,[data-astro-cid-sckkx6r4]:after{box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;padding:0;background-color:var(--color-background);color:var(--color-text);line-height:1.6}.site-header[data-astro-cid-sckkx6r4]{background-color:var(--color-secondary);color:#fff;padding:1rem 0}.logo[data-astro-cid-sckkx6r4]{font-size:1.5rem;font-weight:700;color:#fff;text-decoration:none}.container[data-astro-cid-sckkx6r4]{width:100%;max-width:1200px;margin:0 auto;padding:0 1rem}.main-content[data-astro-cid-sckkx6r4]{min-height:calc(100vh - 130px);padding:2rem 0}.full-width[data-astro-cid-sckkx6r4]{padding:0;width:100%;max-width:none;min-height:100vh}.site-footer[data-astro-cid-sckkx6r4]{background-color:var(--color-secondary);color:#fff;padding:1rem 0;text-align:center}
</style>
<link rel="stylesheet" href="/my-speaker-deck/_astro/_page_.Cn8OyCex.css"></head> <body data-astro-cid-sckkx6r4>   <main class="main-content full-width" data-astro-cid-sckkx6r4>  <div class="slide-viewer-container" data-astro-cid-g67z27si> <header class="slide-header" data-astro-cid-g67z27si> <div class="container" data-astro-cid-g67z27si> <div class="header-left" data-astro-cid-g67z27si> <a href="/" class="back-button" data-astro-cid-g67z27si>← 一覧に戻る</a> <div class="slide-info" data-astro-cid-g67z27si> <h1 data-astro-cid-g67z27si>Langfuse V3を安くしたい</h1> <p class="slide-description" data-astro-cid-g67z27si>Langfuse Night #2 - 初心者から熟練者まで - でおはなししたものです。</p> </div> </div> <div class="header-right" data-astro-cid-g67z27si> <span class="page-counter" data-astro-cid-g67z27si> <span id="current-page" data-astro-cid-g67z27si>18</span> / <span id="total-pages" data-astro-cid-g67z27si>46</span> </span> </div> </div> </header> <div class="slide-viewer" data-astro-cid-4fpnreif> <div class="slides-container" data-astro-cid-4fpnreif> <div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 1" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/1.jpg" alt="スライド 1" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 2" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/2.jpg" alt="スライド 2" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 3" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/3.jpg" alt="スライド 3" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 4" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/4.jpg" alt="スライド 4" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 5" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/5.jpg" alt="スライド 5" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 6" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/6.jpg" alt="スライド 6" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 7" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/7.jpg" alt="スライド 7" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 8" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/8.jpg" alt="スライド 8" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 9" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/9.jpg" alt="スライド 9" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 10" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/10.jpg" alt="スライド 10" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 11" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/11.jpg" alt="スライド 11" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 12" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/12.jpg" alt="スライド 12" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 13" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/13.jpg" alt="スライド 13" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 14" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/14.jpg" alt="スライド 14" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 15" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/15.jpg" alt="スライド 15" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 16" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/16.jpg" alt="スライド 16" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 17" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/17.jpg" alt="スライド 17" loading="eager" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 18" style="display: flex;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/18.jpg" alt="スライド 18" loading="eager" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 19" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/19.jpg" alt="スライド 19" loading="eager" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 20" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/20.jpg" alt="スライド 20" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 21" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/21.jpg" alt="スライド 21" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 22" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/22.jpg" alt="スライド 22" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 23" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/23.jpg" alt="スライド 23" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 24" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/24.jpg" alt="スライド 24" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 25" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/25.jpg" alt="スライド 25" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 26" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/26.jpg" alt="スライド 26" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 27" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/27.jpg" alt="スライド 27" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 28" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/28.jpg" alt="スライド 28" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 29" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/29.jpg" alt="スライド 29" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 30" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/30.jpg" alt="スライド 30" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 31" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/31.jpg" alt="スライド 31" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 32" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/32.jpg" alt="スライド 32" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 33" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/33.jpg" alt="スライド 33" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 34" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/34.jpg" alt="スライド 34" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 35" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/35.jpg" alt="スライド 35" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 36" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/36.jpg" alt="スライド 36" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 37" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/37.jpg" alt="スライド 37" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 38" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/38.jpg" alt="スライド 38" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 39" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/39.jpg" alt="スライド 39" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 40" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/40.jpg" alt="スライド 40" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 41" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/41.jpg" alt="スライド 41" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 42" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/42.jpg" alt="スライド 42" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 43" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/43.jpg" alt="スライド 43" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 44" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/44.jpg" alt="スライド 44" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 45" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/45.jpg" alt="スライド 45" loading="lazy" data-astro-cid-4fpnreif> </div><div class="slide-image" role="img" aria-label="Langfuse V3を安くしたい - スライド 46" style="display: none;" data-astro-cid-4fpnreif> <img src="/images/slides/langfusev3/46.jpg" alt="スライド 46" loading="lazy" data-astro-cid-4fpnreif> </div> </div> </div>  <div class="progress-bar-container" data-astro-cid-g67z27si> <div class="progress-bar" style="width: 39.130434782608695%" data-astro-cid-g67z27si></div> <div class="progress-counter" data-astro-cid-g67z27si>18 / 46</div> </div> <button id="thumbnails-toggle" class="thumbnails-toggle" aria-label="サムネイル表示切替" aria-expanded="false" data-astro-cid-g67z27si> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-g67z27si> <polyline points="18 15 12 9 6 15" data-astro-cid-g67z27si></polyline> </svg> </button> <div class="slide-controls" data-astro-cid-g67z27si> <div class="container" data-astro-cid-g67z27si> <div class="control-buttons" data-astro-cid-g67z27si> <a href="/slides/langfusev3/17" class="btn btn-icon" aria-disabled="false" aria-label="前のスライド" id="prev-slide" data-astro-cid-g67z27si> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon" data-astro-cid-g67z27si> <path d="m15 18-6-6 6-6" data-astro-cid-g67z27si></path> </svg> </a> <a href="/slides/langfusev3/19" class="btn btn-icon" aria-disabled="false" aria-label="次のスライド" id="next-slide" data-astro-cid-g67z27si> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon" data-astro-cid-g67z27si> <path d="m9 18 6-6-6-6" data-astro-cid-g67z27si></path> </svg> </a> <button id="fullscreen" class="btn btn-icon btn-primary" aria-label="全画面表示" data-astro-cid-g67z27si> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-fullscreen" data-astro-cid-g67z27si> <path d="M8 3H5a2 2 0 0 0-2 2v3" data-astro-cid-g67z27si></path> <path d="M21 8V5a2 2 0 0 0-2-2h-3" data-astro-cid-g67z27si></path> <path d="M3 16v3a2 2 0 0 0 2 2h3" data-astro-cid-g67z27si></path> <path d="M16 21h3a2 2 0 0 0 2-2v-3" data-astro-cid-g67z27si></path> </svg> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-exit-fullscreen" style="display: none;" data-astro-cid-g67z27si> <path d="M8 3v3a2 2 0 0 1-2 2H3" data-astro-cid-g67z27si></path> <path d="M21 8h-3a2 2 0 0 1-2-2V3" data-astro-cid-g67z27si></path> <path d="M3 16h3a2 2 0 0 1 2 2v3" data-astro-cid-g67z27si></path> <path d="M16 21v-3a2 2 0 0 1 2-2h3" data-astro-cid-g67z27si></path> </svg> <span class="btn-text" data-astro-cid-g67z27si>全画面</span> </button> </div> <div class="slide-meta" data-astro-cid-g67z27si> <span class="date" data-astro-cid-g67z27si>2025年3月25日</span> <a href="https://langfuse.connpass.com/event/345731/" class="location-link" target="_blank" rel="noopener" data-astro-cid-g67z27si> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-small" data-astro-cid-g67z27si> <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" data-astro-cid-g67z27si></path> <circle cx="12" cy="10" r="3" data-astro-cid-g67z27si></circle> </svg> Langfuse Night #2 - 初心者から熟練者まで - </a> <a href="/pdfs/LangfuseV3を安くしたい.pdf" class="download-link" download data-astro-cid-g67z27si> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon-small" data-astro-cid-g67z27si> <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" data-astro-cid-g67z27si></path> <polyline points="7 10 12 15 17 10" data-astro-cid-g67z27si></polyline> <line x1="12" y1="15" x2="12" y2="3" data-astro-cid-g67z27si></line> </svg>
PDFをダウンロード
</a> </div> </div> </div> <div class="thumbnails-wrapper" aria-hidden="true" data-astro-cid-g67z27si> <div class="thumbnails-container" data-astro-cid-i5mvjset> <div class="thumbnails-scroller" data-astro-cid-i5mvjset> <a href="/slides/langfusev3/1" class="thumbnail " data-index="0" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/1.jpg" alt="サムネイル 1" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>1</span> </a><a href="/slides/langfusev3/2" class="thumbnail " data-index="1" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/2.jpg" alt="サムネイル 2" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>2</span> </a><a href="/slides/langfusev3/3" class="thumbnail " data-index="2" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/3.jpg" alt="サムネイル 3" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>3</span> </a><a href="/slides/langfusev3/4" class="thumbnail " data-index="3" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/4.jpg" alt="サムネイル 4" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>4</span> </a><a href="/slides/langfusev3/5" class="thumbnail " data-index="4" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/5.jpg" alt="サムネイル 5" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>5</span> </a><a href="/slides/langfusev3/6" class="thumbnail " data-index="5" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/6.jpg" alt="サムネイル 6" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>6</span> </a><a href="/slides/langfusev3/7" class="thumbnail " data-index="6" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/7.jpg" alt="サムネイル 7" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>7</span> </a><a href="/slides/langfusev3/8" class="thumbnail " data-index="7" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/8.jpg" alt="サムネイル 8" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>8</span> </a><a href="/slides/langfusev3/9" class="thumbnail " data-index="8" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/9.jpg" alt="サムネイル 9" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>9</span> </a><a href="/slides/langfusev3/10" class="thumbnail " data-index="9" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/10.jpg" alt="サムネイル 10" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>10</span> </a><a href="/slides/langfusev3/11" class="thumbnail " data-index="10" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/11.jpg" alt="サムネイル 11" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>11</span> </a><a href="/slides/langfusev3/12" class="thumbnail " data-index="11" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/12.jpg" alt="サムネイル 12" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>12</span> </a><a href="/slides/langfusev3/13" class="thumbnail " data-index="12" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/13.jpg" alt="サムネイル 13" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>13</span> </a><a href="/slides/langfusev3/14" class="thumbnail " data-index="13" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/14.jpg" alt="サムネイル 14" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>14</span> </a><a href="/slides/langfusev3/15" class="thumbnail " data-index="14" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/15.jpg" alt="サムネイル 15" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>15</span> </a><a href="/slides/langfusev3/16" class="thumbnail " data-index="15" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/16.jpg" alt="サムネイル 16" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>16</span> </a><a href="/slides/langfusev3/17" class="thumbnail " data-index="16" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/17.jpg" alt="サムネイル 17" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>17</span> </a><a href="/slides/langfusev3/18" class="thumbnail active" data-index="17" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/18.jpg" alt="サムネイル 18" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>18</span> </a><a href="/slides/langfusev3/19" class="thumbnail " data-index="18" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/19.jpg" alt="サムネイル 19" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>19</span> </a><a href="/slides/langfusev3/20" class="thumbnail " data-index="19" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/20.jpg" alt="サムネイル 20" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>20</span> </a><a href="/slides/langfusev3/21" class="thumbnail " data-index="20" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/21.jpg" alt="サムネイル 21" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>21</span> </a><a href="/slides/langfusev3/22" class="thumbnail " data-index="21" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/22.jpg" alt="サムネイル 22" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>22</span> </a><a href="/slides/langfusev3/23" class="thumbnail " data-index="22" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/23.jpg" alt="サムネイル 23" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>23</span> </a><a href="/slides/langfusev3/24" class="thumbnail " data-index="23" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/24.jpg" alt="サムネイル 24" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>24</span> </a><a href="/slides/langfusev3/25" class="thumbnail " data-index="24" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/25.jpg" alt="サムネイル 25" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>25</span> </a><a href="/slides/langfusev3/26" class="thumbnail " data-index="25" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/26.jpg" alt="サムネイル 26" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>26</span> </a><a href="/slides/langfusev3/27" class="thumbnail " data-index="26" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/27.jpg" alt="サムネイル 27" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>27</span> </a><a href="/slides/langfusev3/28" class="thumbnail " data-index="27" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/28.jpg" alt="サムネイル 28" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>28</span> </a><a href="/slides/langfusev3/29" class="thumbnail " data-index="28" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/29.jpg" alt="サムネイル 29" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>29</span> </a><a href="/slides/langfusev3/30" class="thumbnail " data-index="29" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/30.jpg" alt="サムネイル 30" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>30</span> </a><a href="/slides/langfusev3/31" class="thumbnail " data-index="30" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/31.jpg" alt="サムネイル 31" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>31</span> </a><a href="/slides/langfusev3/32" class="thumbnail " data-index="31" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/32.jpg" alt="サムネイル 32" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>32</span> </a><a href="/slides/langfusev3/33" class="thumbnail " data-index="32" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/33.jpg" alt="サムネイル 33" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>33</span> </a><a href="/slides/langfusev3/34" class="thumbnail " data-index="33" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/34.jpg" alt="サムネイル 34" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>34</span> </a><a href="/slides/langfusev3/35" class="thumbnail " data-index="34" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/35.jpg" alt="サムネイル 35" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>35</span> </a><a href="/slides/langfusev3/36" class="thumbnail " data-index="35" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/36.jpg" alt="サムネイル 36" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>36</span> </a><a href="/slides/langfusev3/37" class="thumbnail " data-index="36" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/37.jpg" alt="サムネイル 37" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>37</span> </a><a href="/slides/langfusev3/38" class="thumbnail " data-index="37" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/38.jpg" alt="サムネイル 38" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>38</span> </a><a href="/slides/langfusev3/39" class="thumbnail " data-index="38" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/39.jpg" alt="サムネイル 39" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>39</span> </a><a href="/slides/langfusev3/40" class="thumbnail " data-index="39" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/40.jpg" alt="サムネイル 40" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>40</span> </a><a href="/slides/langfusev3/41" class="thumbnail " data-index="40" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/41.jpg" alt="サムネイル 41" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>41</span> </a><a href="/slides/langfusev3/42" class="thumbnail " data-index="41" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/42.jpg" alt="サムネイル 42" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>42</span> </a><a href="/slides/langfusev3/43" class="thumbnail " data-index="42" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/43.jpg" alt="サムネイル 43" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>43</span> </a><a href="/slides/langfusev3/44" class="thumbnail " data-index="43" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/44.jpg" alt="サムネイル 44" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>44</span> </a><a href="/slides/langfusev3/45" class="thumbnail " data-index="44" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/45.jpg" alt="サムネイル 45" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>45</span> </a><a href="/slides/langfusev3/46" class="thumbnail " data-index="45" data-astro-cid-i5mvjset> <img src="/images/slides/langfusev3/46.jpg" alt="サムネイル 46" loading="lazy" data-astro-cid-i5mvjset> <span class="thumbnail-number" data-astro-cid-i5mvjset>46</span> </a> </div> </div> <script type="module">document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{const t=document.querySelector(".thumbnails-scroller"),e=document.querySelector(".thumbnail.active");if(t&&e){const o=t.offsetWidth,c=e.offsetLeft,n=e.offsetWidth;t.scrollLeft=c-o/2+n/2}},0)});</script>  </div> </div>  </main>   </body></html> <script>(function(){const currentPage = 18;
const slide = {"id":"langfusev3","originalId":"LangfuseV3を安くしたい","title":"Langfuse V3を安くしたい","description":"Langfuse Night #2 - 初心者から熟練者まで - でおはなししたものです。","date":"2025-03-25T00:00:00.000Z","location":{"text":"Langfuse Night #2 - 初心者から熟練者まで -","url":"https://langfuse.connpass.com/event/345731/"},"thumbnail":"/images/slides/langfusev3/thumb.jpg","pageCount":46,"pdfPath":"/pdfs/LangfuseV3を安くしたい.pdf","thumbnails":["/images/slides/langfusev3/thumb-1.jpg","/images/slides/langfusev3/thumb-2.jpg","/images/slides/langfusev3/thumb-3.jpg","/images/slides/langfusev3/thumb-4.jpg","/images/slides/langfusev3/thumb-5.jpg","/images/slides/langfusev3/thumb-6.jpg","/images/slides/langfusev3/thumb-7.jpg","/images/slides/langfusev3/thumb-8.jpg","/images/slides/langfusev3/thumb-9.jpg","/images/slides/langfusev3/thumb-10.jpg","/images/slides/langfusev3/thumb-11.jpg","/images/slides/langfusev3/thumb-12.jpg","/images/slides/langfusev3/thumb-13.jpg","/images/slides/langfusev3/thumb-14.jpg","/images/slides/langfusev3/thumb-15.jpg","/images/slides/langfusev3/thumb-16.jpg","/images/slides/langfusev3/thumb-17.jpg","/images/slides/langfusev3/thumb-18.jpg","/images/slides/langfusev3/thumb-19.jpg","/images/slides/langfusev3/thumb-20.jpg","/images/slides/langfusev3/thumb-21.jpg","/images/slides/langfusev3/thumb-22.jpg","/images/slides/langfusev3/thumb-23.jpg","/images/slides/langfusev3/thumb-24.jpg","/images/slides/langfusev3/thumb-25.jpg","/images/slides/langfusev3/thumb-26.jpg","/images/slides/langfusev3/thumb-27.jpg","/images/slides/langfusev3/thumb-28.jpg","/images/slides/langfusev3/thumb-29.jpg","/images/slides/langfusev3/thumb-30.jpg","/images/slides/langfusev3/thumb-31.jpg","/images/slides/langfusev3/thumb-32.jpg","/images/slides/langfusev3/thumb-33.jpg","/images/slides/langfusev3/thumb-34.jpg","/images/slides/langfusev3/thumb-35.jpg","/images/slides/langfusev3/thumb-36.jpg","/images/slides/langfusev3/thumb-37.jpg","/images/slides/langfusev3/thumb-38.jpg","/images/slides/langfusev3/thumb-39.jpg","/images/slides/langfusev3/thumb-40.jpg","/images/slides/langfusev3/thumb-41.jpg","/images/slides/langfusev3/thumb-42.jpg","/images/slides/langfusev3/thumb-43.jpg","/images/slides/langfusev3/thumb-44.jpg","/images/slides/langfusev3/thumb-45.jpg","/images/slides/langfusev3/thumb-46.jpg"]};
const slideImages = ["/images/slides/langfusev3/1.jpg","/images/slides/langfusev3/2.jpg","/images/slides/langfusev3/3.jpg","/images/slides/langfusev3/4.jpg","/images/slides/langfusev3/5.jpg","/images/slides/langfusev3/6.jpg","/images/slides/langfusev3/7.jpg","/images/slides/langfusev3/8.jpg","/images/slides/langfusev3/9.jpg","/images/slides/langfusev3/10.jpg","/images/slides/langfusev3/11.jpg","/images/slides/langfusev3/12.jpg","/images/slides/langfusev3/13.jpg","/images/slides/langfusev3/14.jpg","/images/slides/langfusev3/15.jpg","/images/slides/langfusev3/16.jpg","/images/slides/langfusev3/17.jpg","/images/slides/langfusev3/18.jpg","/images/slides/langfusev3/19.jpg","/images/slides/langfusev3/20.jpg","/images/slides/langfusev3/21.jpg","/images/slides/langfusev3/22.jpg","/images/slides/langfusev3/23.jpg","/images/slides/langfusev3/24.jpg","/images/slides/langfusev3/25.jpg","/images/slides/langfusev3/26.jpg","/images/slides/langfusev3/27.jpg","/images/slides/langfusev3/28.jpg","/images/slides/langfusev3/29.jpg","/images/slides/langfusev3/30.jpg","/images/slides/langfusev3/31.jpg","/images/slides/langfusev3/32.jpg","/images/slides/langfusev3/33.jpg","/images/slides/langfusev3/34.jpg","/images/slides/langfusev3/35.jpg","/images/slides/langfusev3/36.jpg","/images/slides/langfusev3/37.jpg","/images/slides/langfusev3/38.jpg","/images/slides/langfusev3/39.jpg","/images/slides/langfusev3/40.jpg","/images/slides/langfusev3/41.jpg","/images/slides/langfusev3/42.jpg","/images/slides/langfusev3/43.jpg","/images/slides/langfusev3/44.jpg","/images/slides/langfusev3/45.jpg","/images/slides/langfusev3/46.jpg"];

    // 現在のページ番号とスライド情報をJSに渡す
    let pageNum = parseInt(currentPage);
    const totalPages = slide.pageCount;

    // スライドショーのインタラクティブ機能
    document.addEventListener('DOMContentLoaded', () => {
        // 必要な要素の取得
        const slideImages = document.querySelectorAll('.slide-image');
        const fullscreenButton = document.getElementById('fullscreen');
        const slideContainer = document.querySelector('.slide-viewer-container');
        const iconFullscreen = document.querySelector('.icon-fullscreen');
        const iconExitFullscreen = document.querySelector('.icon-exit-fullscreen');
        const currentPageEl = document.getElementById('current-page');
        const prevButton = document.getElementById('prev-slide');
        const nextButton = document.getElementById('next-slide');

        // サムネイルトグル機能関連
        const thumbnailsToggle = document.getElementById('thumbnails-toggle');
        const thumbnailsWrapper = document.querySelector('.thumbnails-wrapper');

        // サムネイル状態の初期化（history.stateから）
        const state = history.state || {};
        const isThumbnailsOpen = state.thumbnailsOpen || false;

        if (isThumbnailsOpen) {
            thumbnailsWrapper.classList.add('open');
            thumbnailsToggle.classList.add('open');
            thumbnailsToggle.setAttribute('aria-expanded', 'true');
            thumbnailsWrapper.setAttribute('aria-hidden', 'false');
        }

        // サムネイル表示切替
        thumbnailsToggle.addEventListener('click', () => {
            thumbnailsWrapper.classList.toggle('open');
            thumbnailsToggle.classList.toggle('open');

            const isExpanded = thumbnailsWrapper.classList.contains('open');
            thumbnailsToggle.setAttribute('aria-expanded', isExpanded);
            thumbnailsWrapper.setAttribute('aria-hidden', !isExpanded);

            // 現在の状態を更新
            updateHistory(pageNum, isExpanded);
        });

        // 進捗バーの更新関数
        function updateProgressBar(pageNum) {
            const progressBar = document.querySelector('.progress-bar');
            const progressCounter = document.querySelector('.progress-counter');
            if (progressBar) {
                progressBar.style.width = `${(pageNum / totalPages) * 100}%`;
            }
            if (progressCounter) {
                progressCounter.textContent = `${pageNum} / ${totalPages}`;
            }
        }

        // スライド表示を更新する関数
        function updateSlideDisplay(newPageNum) {
            // 現在のスライドを非表示
            slideImages[pageNum - 1].style.display = 'none';

            // 新しいスライドを表示
            pageNum = newPageNum;
            slideImages[pageNum - 1].style.display = 'flex';

            // ページカウンターを更新
            currentPageEl.textContent = pageNum;

            // ナビゲーションボタンの状態を更新
            prevButton.setAttribute('aria-disabled', pageNum <= 1);
            nextButton.setAttribute('aria-disabled', pageNum >= totalPages);

            // 進捗バーの更新
            updateProgressBar(pageNum);

            // サムネイルの選択状態を更新
            updateThumbnailSelection();
        }

        // サムネイルの選択状態を更新
        function updateThumbnailSelection() {
            const thumbnails = document.querySelectorAll('.thumbnail');
            thumbnails.forEach((thumb, idx) => {
                if (idx + 1 === pageNum) {
                    thumb.classList.add('active');

                    // スムーズなスクロールを避けて即時にスクロール位置を設定
                    const thumbnailsScroller = thumb.closest('.thumbnails-scroller');
                    if (thumbnailsScroller) {
                        setTimeout(() => {
                            const scrollerWidth = thumbnailsScroller.offsetWidth;
                            const thumbLeft = thumb.offsetLeft;
                            const thumbWidth = thumb.offsetWidth;
                            thumbnailsScroller.scrollLeft = thumbLeft - (scrollerWidth / 2) + (thumbWidth / 2);
                        }, 0);
                    }
                } else {
                    thumb.classList.remove('active');
                }
            });
        }

        // History APIで状態を更新
        function updateHistory(pageNum, thumbnailsOpen) {
            const state = {
                pageNum: pageNum,
                thumbnailsOpen: thumbnailsOpen || thumbnailsWrapper.classList.contains('open')
            };
            const url = `/slides/${slide.id}/${pageNum}`;
            history.replaceState(state, '', url);
        }

        // スライドを前に移動
        function goToPreviousSlide(e) {
            if (e) e.preventDefault();
            if (pageNum > 1) {
                const newPageNum = pageNum - 1;
                const isThumbnailsOpen = thumbnailsWrapper.classList.contains('open');

                // URLを更新（履歴に追加）
                const state = { pageNum: newPageNum, thumbnailsOpen: isThumbnailsOpen };
                const url = `/slides/${slide.id}/${newPageNum}`;
                history.pushState(state, '', url);

                // UI更新
                updateSlideDisplay(newPageNum);
            }
        }

        // スライドを次に移動
        function goToNextSlide(e) {
            if (e) e.preventDefault();
            if (pageNum < totalPages) {
                const newPageNum = pageNum + 1;
                const isThumbnailsOpen = thumbnailsWrapper.classList.contains('open');

                // URLを更新（履歴に追加）
                const state = { pageNum: newPageNum, thumbnailsOpen: isThumbnailsOpen };
                const url = `/slides/${slide.id}/${newPageNum}`;
                history.pushState(state, '', url);

                // UI更新
                updateSlideDisplay(newPageNum);
            }
        }

        // 特定のスライドへ移動
        function goToSlide(newPageNum, e) {
            if (e) e.preventDefault();
            if (newPageNum >= 1 && newPageNum <= totalPages && newPageNum !== pageNum) {
                const isThumbnailsOpen = thumbnailsWrapper.classList.contains('open');

                // URLを更新（履歴に追加）
                const state = { pageNum: newPageNum, thumbnailsOpen: isThumbnailsOpen };
                const url = `/slides/${slide.id}/${newPageNum}`;
                history.pushState(state, '', url);

                // UI更新
                updateSlideDisplay(newPageNum);
            }
        }

        // 全画面表示の切り替え
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                slideContainer.requestFullscreen().catch(err => {
                    console.error(`全画面表示に失敗しました: ${err.message}`);
                });
            } else {
                document.exitFullscreen();
            }
        }

        // ブラウザの戻る・進むボタン対応
        window.addEventListener('popstate', (e) => {
            if (e.state) {
                // 戻る/進むボタンで状態を復元
                const newPageNum = e.state.pageNum || 1;

                // サムネイル状態を復元
                if (e.state.thumbnailsOpen) {
                    thumbnailsWrapper.classList.add('open');
                    thumbnailsToggle.classList.add('open');
                    thumbnailsToggle.setAttribute('aria-expanded', 'true');
                    thumbnailsWrapper.setAttribute('aria-hidden', 'false');
                } else {
                    thumbnailsWrapper.classList.remove('open');
                    thumbnailsToggle.classList.remove('open');
                    thumbnailsToggle.setAttribute('aria-expanded', 'false');
                    thumbnailsWrapper.setAttribute('aria-hidden', 'true');
                }

                // スライド表示を更新
                updateSlideDisplay(newPageNum);
            }
        });

        // 全画面表示ボタンのイベント
        fullscreenButton.addEventListener('click', toggleFullscreen);

        // 全画面表示の変更を検知
        document.addEventListener('fullscreenchange', () => {
            if (document.fullscreenElement) {
                slideContainer.classList.add('fullscreen-mode');
                iconFullscreen.style.display = 'none';
                iconExitFullscreen.style.display = 'block';
                if (fullscreenButton.querySelector('.btn-text')) {
                    fullscreenButton.querySelector('.btn-text').textContent = '終了';
                }
            } else {
                slideContainer.classList.remove('fullscreen-mode');
                iconFullscreen.style.display = 'block';
                iconExitFullscreen.style.display = 'none';
                if (fullscreenButton.querySelector('.btn-text')) {
                    fullscreenButton.querySelector('.btn-text').textContent = '全画面';
                }
            }
        });

        // ナビゲーションボタンのイベント
        prevButton.addEventListener('click', goToPreviousSlide);
        nextButton.addEventListener('click', goToNextSlide);

        // サムネイルのクリックイベント
        document.querySelectorAll('.thumbnail').forEach((thumb, idx) => {
            thumb.addEventListener('click', (e) => {
                e.preventDefault();
                goToSlide(idx + 1, e);
            });
        });

        // キーボードショートカット
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                goToPreviousSlide();
            } else if (e.key === 'ArrowRight') {
                goToNextSlide();
            } else if (e.key === 'f' || e.key === 'F') {
                toggleFullscreen();
            }
        });

        // 初期状態を設定
        updateHistory(pageNum, isThumbnailsOpen);
        updateProgressBar(pageNum);
    });
})();</script> 